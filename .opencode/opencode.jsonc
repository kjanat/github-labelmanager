{
  "$schema": "https://opencode.ai/config.json",
  "lsp": {
    "gh-actions": {
      "command": [
        "bunx",
        "gh-actions-language-server",
        "--stdio"
      ],
      "extensions": [
        ".yaml",
        ".yml"
      ],
      "disabled": false,
      "env": {},
      "initialization": {
        "sessionToken": "${env:GITHUB_TOKEN}"
      }
    }
  },
  "formatter": {
    "dprint": {
      "command": [
        "deno",
        "fmt",
        "$FILE"
      ],
      "extensions": [
        ".js",
        ".cjs",
        ".mjs",
        ".ts",
        ".mts",
        ".cts",
        ".jsx",
        ".tsx",
        ".md",
        ".mkd",
        ".mkdn",
        ".mdwn",
        ".mdown",
        ".markdown",
        ".json",
        ".jsonc",
        ".css",
        ".html",
        ".njk",
        ".vto",
        ".yml",
        ".yaml",
        ".sass",
        ".scss",
        ".less",
        ".ipynb"
      ]
    },
    "shfmt": {
      "command": [
        "shfmt",
        "--indent",
        "2",
        "--language-dialect",
        "bash",
        "--simplify",
        "--binary-next-line",
        "--case-indent",
        "--keep-padding",
        "--write",
        "$FILE"
      ],
      "extensions": [
        "sh"
      ]
    }
  },
  "mcp": {
    "perplexity": {
      "type": "local",
      "command": [
        "bunx",
        "server-perplexity-ask@latest"
      ],
      "environment": {
        "PERPLEXITY_API_KEY": "{env:PERPLEXITY_API_KEY}"
      },
      "enabled": false
    },
    "context7": {
      "type": "remote",
      "url": "https://mcp.context7.com/mcp",
      "headers": {
        "CONTEXT7_API_KEY": "{env:CONTEXT7_API_KEY}"
      },
      "enabled": false
    },
    "morphllm": {
      "type": "local",
      "command": [
        "bunx",
        "@morphllm/morphmcp"
      ],
      "environment": {
        "MORPH_API_KEY": "{env:MORPH_API_KEY}",
        "ENABLED_TOOLS": "read_file,read_multiple_files,list_directory,list_directory_with_sizes,directory_tree,create_directory,search_files,move_file,get_file_info,list_allowed_directories"
      },
      "enabled": false
    },
    "gh_grep": {
      "type": "remote",
      "url": "https://mcp.grep.app",
      "enabled": true
    }
  },
  "model": "anthropic/claude-opus-4-5",
  "small_model": "anthropic/claude-haiku-4-5",
  "share": "manual",
  "autoupdate": true,
  // "instructions": [],
  "permission": {
    "edit": "allow",
    "bash": {
      // === DENY (destructive, non-recoverable) ===
      "rm -rf*": "deny",
      "rm -fr*": "deny",
      "git push --force*": "deny",
      "git push -f*": "deny",
      "git push * +*": "deny",
      "git rebase*": "deny",
      "git reset --hard*": "deny",
      "git clean*": "deny",
      "git branch -D*": "deny",
      "git stash drop*": "deny",
      "sudo*": "deny",

      // === ASK (state-changing, needs review) ===
      "git add*": "ask",
      "git commit*": "ask",
      "git push*": "ask",
      "git reset*": "ask",
      "git checkout*": "ask",
      "git restore*": "ask",
      "git switch*": "ask",
      "git stash*": "ask",
      "git merge*": "ask",
      "git cherry-pick*": "ask",
      "git revert*": "ask",
      "git tag*": "ask",
      "git branch -d*": "ask",
      "git branch --delete*": "ask",
      "rm *": "ask",
      "rmdir*": "ask",
      "npm install*": "ask",
      "npm i *": "ask",
      "deno add*": "ask",
      "deno install*": "ask",
      "pip install*": "ask",
      "curl*": "ask",
      "wget*": "ask",

      // === ALLOW (read-only, safe) ===
      "git status*": "allow",
      "git diff*": "allow",
      "git log*": "allow",
      "git show*": "allow",
      "git branch": "allow",
      "deno fmt*": "allow",
      "deno lint*": "allow",
      "deno check*": "allow",
      "deno test*": "allow",
      "deno task*": "allow",

      // === DEFAULT ===
      "*": "ask"
    },
    "doom_loop": "ask",
    "external_directory": "ask"
  },
  "experimental": {
    "chatMaxRetries": 1,
    "batch_tool": true
  },
  "username": "kjanat"
}
